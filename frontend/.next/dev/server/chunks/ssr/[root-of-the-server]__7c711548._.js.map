{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///E:/mini%20project/Ai-Quiz/frontend/lib/api.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: 'http://localhost:8000', // Your Python Backend URL\r\n});\r\n\r\nexport const uploadPDF = async (file: File) => {\r\n  const formData = new FormData();\r\n  formData.append('file', file);\r\n  const response = await api.post('/upload', formData, {\r\n    headers: { 'Content-Type': 'multipart/form-data' },\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const generateQuiz = async (topic: string, difficulty: string, count: number, fileId: string) => { // <-- NEW\r\n  const response = await api.post('/generate_quiz', {\r\n    topic,\r\n    difficulty,\r\n    count,\r\n    file_id: fileId, // <-- NEW\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport default api;\r\nexport const saveQuiz = async (quizData: any) => {\r\n  const response = await api.post('/save_quiz', quizData);\r\n  return response.data;\r\n};\r\n\r\nexport const getMyQuizzes = async () => {\r\n  const response = await api.get('/my_quizzes');\r\n  return response.data;\r\n};\r\n\r\nexport const getQuizDetails = async (quizId: number) => {\r\n  const response = await api.get(`/quiz/${quizId}`);\r\n  return response.data;\r\n};\r\n\r\nexport const submitQuizResult = async (quizId: number, score: number, total: number, answers: any) => {\r\n  const response = await api.post('/submit_quiz', {\r\n    quiz_id: quizId,\r\n    score: score,\r\n    total_questions: total,\r\n    selected_options: answers\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const getQuizAnalytics = async (quizId: number) => {\r\n  const response = await api.get(`/quiz/${quizId}/analytics`);\r\n  return response.data;\r\n};\r\nexport const deleteQuiz = async (quizId: number) => {\r\n  const response = await api.delete(`/quiz/${quizId}`);\r\n  return response.data;\r\n};"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;;AAEA,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACvB,SAAS;AACX;AAEO,MAAM,YAAY,OAAO;IAC9B,MAAM,WAAW,IAAI;IACrB,SAAS,MAAM,CAAC,QAAQ;IACxB,MAAM,WAAW,MAAM,IAAI,IAAI,CAAC,WAAW,UAAU;QACnD,SAAS;YAAE,gBAAgB;QAAsB;IACnD;IACA,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,eAAe,OAAO,OAAe,YAAoB,OAAe;IACnF,MAAM,WAAW,MAAM,IAAI,IAAI,CAAC,kBAAkB;QAChD;QACA;QACA;QACA,SAAS;IACX;IACA,OAAO,SAAS,IAAI;AACtB;uCAEe;AACR,MAAM,WAAW,OAAO;IAC7B,MAAM,WAAW,MAAM,IAAI,IAAI,CAAC,cAAc;IAC9C,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,eAAe;IAC1B,MAAM,WAAW,MAAM,IAAI,GAAG,CAAC;IAC/B,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,iBAAiB,OAAO;IACnC,MAAM,WAAW,MAAM,IAAI,GAAG,CAAC,CAAC,MAAM,EAAE,QAAQ;IAChD,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,mBAAmB,OAAO,QAAgB,OAAe,OAAe;IACnF,MAAM,WAAW,MAAM,IAAI,IAAI,CAAC,gBAAgB;QAC9C,SAAS;QACT,OAAO;QACP,iBAAiB;QACjB,kBAAkB;IACpB;IACA,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,mBAAmB,OAAO;IACrC,MAAM,WAAW,MAAM,IAAI,GAAG,CAAC,CAAC,MAAM,EAAE,OAAO,UAAU,CAAC;IAC1D,OAAO,SAAS,IAAI;AACtB;AACO,MAAM,aAAa,OAAO;IAC/B,MAAM,WAAW,MAAM,IAAI,MAAM,CAAC,CAAC,MAAM,EAAE,QAAQ;IACnD,OAAO,SAAS,IAAI;AACtB"}},
    {"offset": {"line": 178, "column": 0}, "map": {"version":3,"sources":["file:///E:/mini%20project/Ai-Quiz/frontend/app/quiz/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState, use } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { getQuizDetails, submitQuizResult } from \"@/lib/api\";\r\nimport { Timer, CheckCircle, XCircle, ChevronRight, ChevronLeft, AlertTriangle, Loader2, ArrowLeft } from \"lucide-react\";\r\n\r\nexport default function TakeQuizPage({ params }: { params: Promise<{ id: string }> }) {\r\n  const router = useRouter();\r\n  const [quizId, setQuizId] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    params.then((p) => setQuizId(p.id));\r\n  }, [params]);\r\n\r\n  const [quiz, setQuiz] = useState<any>(null);\r\n  const [questions, setQuestions] = useState<any[]>([]);\r\n  const [currentQIndex, setCurrentQIndex] = useState(0);\r\n  const [selectedOptions, setSelectedOptions] = useState<{[key: number]: string}>({});\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n  const [score, setScore] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (!quizId) return;\r\n    const loadQuiz = async () => {\r\n      try {\r\n        const data = await getQuizDetails(Number(quizId));\r\n        if (!data) throw new Error(\"Empty Data\");\r\n        setQuiz(data);\r\n        setQuestions(data.questions);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        console.error(err);\r\n        alert(\"Quiz not found!\");\r\n        router.push(\"/dashboard\");\r\n      }\r\n    };\r\n    loadQuiz();\r\n  }, [quizId, router]);\r\n\r\n  const handleOptionSelect = (option: string) => {\r\n    if (isSubmitted) return;\r\n    setSelectedOptions(prev => ({ ...prev, [currentQIndex]: option }));\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    setIsSubmitted(true);\r\n    let newScore = 0;\r\n    questions.forEach((q, index) => {\r\n      const userAns = selectedOptions[index];\r\n      if (userAns && userAns.trim() === q.correct_answer.trim()) {\r\n        newScore += 4;\r\n      } else if (userAns) {\r\n        newScore -= 1;\r\n      }\r\n    });\r\n    setScore(newScore);\r\n    try {\r\n      if (quizId) await submitQuizResult(Number(quizId), newScore, questions.length, selectedOptions);\r\n    } catch (e) { console.error(e); }\r\n  };\r\n\r\n  if (loading) return <div className=\"min-h-screen flex items-center justify-center text-black font-bold\"><Loader2 className=\"animate-spin\" /> Loading Quiz...</div>;\r\n\r\n  const currentQuestion = questions[currentQIndex];\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white flex flex-col items-center py-8 px-4 text-black\">\r\n      \r\n      {/* Top Header with Back Button */}\r\n      <div className=\"w-full max-w-3xl mb-6 flex justify-between items-center\">\r\n        <button onClick={() => router.push('/dashboard')} className=\"flex items-center gap-2 text-black font-bold hover:underline\">\r\n            <ArrowLeft size={20}/> Dashboard\r\n        </button>\r\n        <div className=\"bg-black text-white px-4 py-2 rounded-lg font-mono font-bold\">\r\n          Q {currentQIndex + 1} / {questions.length}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Title */}\r\n      <div className=\"w-full max-w-3xl mb-6 text-center\">\r\n        <h1 className=\"text-2xl font-black text-black\">{quiz.title}</h1>\r\n        <p className=\"text-black font-medium\">Topic: {quiz.topic}</p>\r\n      </div>\r\n\r\n      {/* Question Card */}\r\n      <div className=\"w-full max-w-3xl bg-white rounded-2xl shadow-xl p-8 border-2 border-black\">\r\n        <h3 className=\"text-xl font-bold text-black mb-6\">{currentQuestion.question}</h3>\r\n\r\n        <div className=\"space-y-3\">\r\n          {currentQuestion.options.map((option: string, idx: number) => {\r\n            const isSelected = selectedOptions[currentQIndex] === option;\r\n            const isCorrect = option === currentQuestion.correct_answer;\r\n            \r\n            let style = \"w-full text-left p-4 rounded-xl border-2 transition-all flex justify-between items-center font-bold text-lg \";\r\n            \r\n            if (isSubmitted) {\r\n              if (isCorrect) style += \"bg-green-100 border-green-600 text-black\";\r\n              else if (isSelected) style += \"bg-red-100 border-red-600 text-black\";\r\n              else style += \"border-gray-200 text-black opacity-50\";\r\n            } else {\r\n              if (isSelected) style += \"border-blue-600 bg-blue-50 text-black shadow-md\";\r\n              else style += \"border-gray-300 text-black hover:border-black hover:bg-gray-50\";\r\n            }\r\n\r\n            return (\r\n              <button key={idx} onClick={() => handleOptionSelect(option)} className={style} disabled={isSubmitted}>\r\n                {option}\r\n                {isSubmitted && isCorrect && <CheckCircle className=\"text-green-600\" size={24} />}\r\n                {isSubmitted && isSelected && !isCorrect && <XCircle className=\"text-red-600\" size={24} />}\r\n              </button>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        {/* Explanation */}\r\n        {isSubmitted && (\r\n          <div className=\"mt-6 p-4 bg-blue-50 rounded-lg border-2 border-blue-200 text-black font-medium\">\r\n            <div className=\"flex items-center gap-2 font-black text-blue-800 mb-1\"><AlertTriangle size={16}/> Explanation</div>\r\n            {currentQuestion.explanation}\r\n          </div>\r\n        )}\r\n\r\n        {/* Footer Navigation */}\r\n        <div className=\"mt-8 pt-6 border-t-2 border-gray-100 flex justify-between items-center\">\r\n          \r\n          <button \r\n            onClick={() => setCurrentQIndex(prev => Math.max(0, prev - 1))}\r\n            disabled={currentQIndex === 0}\r\n            className=\"bg-gray-200 text-black px-6 py-3 rounded-xl font-bold hover:bg-gray-300 disabled:opacity-50 flex items-center gap-2\"\r\n          >\r\n             <ChevronLeft /> Previous\r\n          </button>\r\n\r\n          {isSubmitted ? (\r\n            <div className=\"flex items-center gap-4\">\r\n               <span className=\"font-black text-2xl text-black\">Score: {score}</span>\r\n               <button onClick={() => router.push('/dashboard')} className=\"bg-black text-white px-6 py-3 rounded-xl font-bold\">\r\n                 Finish\r\n               </button>\r\n            </div>\r\n          ) : (\r\n             currentQIndex < questions.length - 1 ? (\r\n               <button onClick={() => setCurrentQIndex(prev => prev + 1)} className=\"bg-black text-white px-6 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-gray-800\">\r\n                 Next <ChevronRight />\r\n               </button>\r\n             ) : (\r\n               <button onClick={handleSubmit} className=\"bg-red-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-red-700\">\r\n                 Submit Quiz\r\n               </button>\r\n             )\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}