{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/mini%20project/Ai-Quiz/frontend/lib/api.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: 'http://localhost:8000', // Your Python Backend URL\r\n});\r\n\r\nexport const uploadPDF = async (file: File) => {\r\n  const formData = new FormData();\r\n  formData.append('file', file);\r\n  const response = await api.post('/upload', formData, {\r\n    headers: { 'Content-Type': 'multipart/form-data' },\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const generateQuiz = async (topic: string, difficulty: string, count: number, fileId: string) => { // <-- NEW\r\n  const response = await api.post('/generate_quiz', {\r\n    topic,\r\n    difficulty,\r\n    count,\r\n    file_id: fileId, // <-- NEW\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport default api;\r\nexport const saveQuiz = async (quizData: any) => {\r\n  const response = await api.post('/save_quiz', quizData);\r\n  return response.data;\r\n};\r\n\r\nexport const getMyQuizzes = async () => {\r\n  const response = await api.get('/my_quizzes');\r\n  return response.data;\r\n};\r\n\r\nexport const getQuizDetails = async (quizId: number) => {\r\n  const response = await api.get(`/quiz/${quizId}`);\r\n  return response.data;\r\n};\r\n\r\nexport const submitQuizResult = async (quizId: number, score: number, total: number, answers: any) => {\r\n  const response = await api.post('/submit_quiz', {\r\n    quiz_id: quizId,\r\n    score: score,\r\n    total_questions: total,\r\n    selected_options: answers\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const getQuizAnalytics = async (quizId: number) => {\r\n  const response = await api.get(`/quiz/${quizId}/analytics`);\r\n  return response.data;\r\n};\r\nexport const deleteQuiz = async (quizId: number) => {\r\n  const response = await api.delete(`/quiz/${quizId}`);\r\n  return response.data;\r\n};"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;;AAEA,MAAM,MAAM,mJAAK,CAAC,MAAM,CAAC;IACvB,SAAS;AACX;AAEO,MAAM,YAAY,OAAO;IAC9B,MAAM,WAAW,IAAI;IACrB,SAAS,MAAM,CAAC,QAAQ;IACxB,MAAM,WAAW,MAAM,IAAI,IAAI,CAAC,WAAW,UAAU;QACnD,SAAS;YAAE,gBAAgB;QAAsB;IACnD;IACA,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,eAAe,OAAO,OAAe,YAAoB,OAAe;IACnF,MAAM,WAAW,MAAM,IAAI,IAAI,CAAC,kBAAkB;QAChD;QACA;QACA;QACA,SAAS;IACX;IACA,OAAO,SAAS,IAAI;AACtB;uCAEe;AACR,MAAM,WAAW,OAAO;IAC7B,MAAM,WAAW,MAAM,IAAI,IAAI,CAAC,cAAc;IAC9C,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,eAAe;IAC1B,MAAM,WAAW,MAAM,IAAI,GAAG,CAAC;IAC/B,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,iBAAiB,OAAO;IACnC,MAAM,WAAW,MAAM,IAAI,GAAG,CAAC,CAAC,MAAM,EAAE,QAAQ;IAChD,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,mBAAmB,OAAO,QAAgB,OAAe,OAAe;IACnF,MAAM,WAAW,MAAM,IAAI,IAAI,CAAC,gBAAgB;QAC9C,SAAS;QACT,OAAO;QACP,iBAAiB;QACjB,kBAAkB;IACpB;IACA,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,mBAAmB,OAAO;IACrC,MAAM,WAAW,MAAM,IAAI,GAAG,CAAC,CAAC,MAAM,EAAE,OAAO,UAAU,CAAC;IAC1D,OAAO,SAAS,IAAI;AACtB;AACO,MAAM,aAAa,OAAO;IAC/B,MAAM,WAAW,MAAM,IAAI,MAAM,CAAC,CAAC,MAAM,EAAE,QAAQ;IACnD,OAAO,SAAS,IAAI;AACtB"}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file:///E:/mini%20project/Ai-Quiz/frontend/app/create/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { uploadPDF, generateQuiz, saveQuiz } from \"@/lib/api\"; \r\nimport { Upload, Play, Loader2, CheckCircle, ArrowLeft } from \"lucide-react\";\r\n\r\nexport default function CreateQuizPage() {\r\n  const router = useRouter(); \r\n  \r\n  // State\r\n  const [file, setFile] = useState<File | null>(null);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [uploadSuccess, setUploadSuccess] = useState(false);\r\n  const [fileId, setFileId] = useState<string | null>(null);\r\n  \r\n  const [topic, setTopic] = useState(\"\");\r\n  const [difficulty, setDifficulty] = useState(\"Medium\");\r\n  const [questionCount, setQuestionCount] = useState(5);\r\n  \r\n  const [isLoadingQuiz, setIsLoadingQuiz] = useState(false);\r\n\r\n  const handleFileUpload = async () => {\r\n    if (!file) return;\r\n    setIsUploading(true);\r\n    setUploadSuccess(false);\r\n    try {\r\n      const response = await uploadPDF(file);\r\n      setFileId(response.file_id);\r\n      setUploadSuccess(true);\r\n      alert(\"PDF Processed Successfully! Now choose your settings below.\");\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert(\"Upload Failed!\");\r\n    } finally {\r\n      setIsUploading(false);\r\n    }\r\n  };\r\n\r\n  const handleGenerateAndSaveQuiz = async () => {\r\n    if (!fileId) {\r\n      alert(\"Please upload and process a PDF first!\");\r\n      return;\r\n    }\r\n    if (!topic.trim()) {\r\n      alert(\"Please enter a topic.\");\r\n      return;\r\n    }\r\n\r\n    setIsLoadingQuiz(true);\r\n    try {\r\n      const quizGenerationData = await generateQuiz(topic, difficulty, questionCount, fileId);\r\n\r\n      const quizToSave = {\r\n        title: file?.name?.replace('.pdf', '') || \"Untitled Quiz\",\r\n        topic: topic,\r\n        questions: quizGenerationData.questions \r\n      };\r\n\r\n      await saveQuiz(quizToSave);\r\n      \r\n      alert(\"Quiz generated and saved! Redirecting to dashboard...\");\r\n      router.push(`/dashboard`);\r\n\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert(\"Failed to generate quiz. Check the backend console for details.\");\r\n    } finally {\r\n      setIsLoadingQuiz(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 flex flex-col items-center py-12 px-4 text-black\">\r\n      <div className=\"max-w-xl w-full\">\r\n        \r\n        {/* Back Button */}\r\n        <button \r\n          onClick={() => router.push('/dashboard')} \r\n          className=\"flex items-center gap-2 text-black font-bold mb-4 hover:underline\"\r\n        >\r\n          <ArrowLeft size={20} />\r\n          Back to Dashboard\r\n        </button>\r\n\r\n        <div className=\"bg-white shadow-xl rounded-2xl p-8 border border-gray-200\">\r\n          <div className=\"text-center mb-8\">\r\n            <h1 className=\"text-3xl font-bold text-blue-700\">Create New Quiz</h1>\r\n            <p className=\"text-black mt-2 font-medium\">Upload notes, configure settings, and generate.</p>\r\n          </div>\r\n\r\n          {/* Step 1: Upload Box */}\r\n          <div className={`mb-4 p-6 border-2 border-dashed rounded-xl transition-all ${uploadSuccess ? 'border-green-500 bg-green-50' : 'border-black hover:border-blue-600'}`}>\r\n            <label className=\"flex flex-col items-center cursor-pointer\">\r\n              <div className={`p-4 rounded-full mb-3 ${uploadSuccess ? 'bg-green-200 text-green-800' : 'bg-blue-100 text-blue-800'}`}>\r\n                {uploadSuccess ? <CheckCircle size={32} /> : <Upload size={32} />}\r\n              </div>\r\n              <span className=\"text-sm font-bold text-black text-center\">\r\n                {file ? file.name : \"Click to Upload PDF\"}\r\n              </span>\r\n              <input \r\n                type=\"file\" \r\n                accept=\".pdf\" \r\n                className=\"hidden\" \r\n                onChange={(e) => {\r\n                  setFile(e.target.files?.[0] || null);\r\n                  setUploadSuccess(false);\r\n                }}\r\n              />\r\n            </label>\r\n          </div>\r\n\r\n          {/* Process PDF Button (Always Visible, Blue) */}\r\n          <div className=\"mb-6\">\r\n            <button \r\n              onClick={handleFileUpload}\r\n              disabled={!file || isUploading}\r\n              className={`w-full py-3 rounded-lg text-sm font-bold transition shadow-md ${\r\n                !file ? 'bg-blue-300 cursor-not-allowed text-white' :\r\n                uploadSuccess ? 'bg-green-600 text-white' : \r\n                'bg-blue-600 text-white hover:bg-blue-700'\r\n              }`}\r\n            >\r\n              {isUploading ? <><Loader2 className=\"inline animate-spin mr-2\"/> Processing PDF...</> : \r\n               !file ? \"Select a File to Process\" :\r\n               uploadSuccess ? \"PDF Processed Successfully!\" : \"Process PDF\"}\r\n            </button>\r\n          </div>\r\n\r\n          {/* Step 2: Settings */}\r\n          <div className={`space-y-5 transition-opacity duration-500 ${uploadSuccess ? 'opacity-100' : 'opacity-40 pointer-events-none'}`}>\r\n            <div>\r\n              <label className=\"block text-sm font-bold text-black mb-1\">Quiz Topic</label>\r\n              <input \r\n                type=\"text\" \r\n                value={topic}\r\n                onChange={(e) => setTopic(e.target.value)}\r\n                className=\"w-full p-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-black bg-white font-medium placeholder-gray-400\"\r\n                placeholder=\"e.g., Photosynthesis...\"\r\n              />\r\n            </div>\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-bold text-black mb-1\">Difficulty</label>\r\n                <select \r\n                  value={difficulty}\r\n                  onChange={(e) => setDifficulty(e.target.value)}\r\n                  className=\"w-full p-3 border-2 border-gray-300 rounded-lg text-black bg-white font-medium\"\r\n                >\r\n                  <option value=\"Easy\">Easy</option>\r\n                  <option value=\"Medium\">Medium</option>\r\n                  <option value=\"Hard\">Hard</option>\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-bold text-black mb-1\">Questions</label>\r\n                <select \r\n                  value={questionCount}\r\n                  onChange={(e) => setQuestionCount(Number(e.target.value))}\r\n                  className=\"w-full p-3 border-2 border-gray-300 rounded-lg text-black bg-white font-medium\"\r\n                >\r\n                  <option value={3}>3 Questions</option>\r\n                  <option value={5}>5 Questions</option>\r\n                  <option value={10}>10 Questions</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <button \r\n              onClick={handleGenerateAndSaveQuiz}\r\n              disabled={isLoadingQuiz || !uploadSuccess}\r\n              className=\"w-full bg-black text-white py-4 rounded-xl font-bold text-lg hover:bg-gray-800 transition flex justify-center items-center gap-2 shadow-lg disabled:opacity-70\"\r\n            >\r\n              {isLoadingQuiz ? (\r\n                <><Loader2 className=\"animate-spin\" /> Generating...</>\r\n              ) : (\r\n                <>Generate Quiz <Play fill=\"white\" size={18} /></>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}